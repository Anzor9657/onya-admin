(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[6],{683:function(e,a,t){"use strict";var n=t(9),r=t(0),l=t.n(r),i=t(691),o=(t(693),l.a.forwardRef((function(e,a){var t=l.a.cloneElement(e.children,{style:Object(n.a)(Object(n.a)({},e.children.style),{},{visibility:"hidden"})});return l.a.createElement(i.VelocityComponent,Object.assign({ref:a},e),t)})));o.defaultProps={animation:"transition.fadeIn",runOnMount:!0,targetQuerySelector:null,interruptBehavior:"stop",visibility:"visible",duration:300,delay:50,easing:[.4,0,.2,1],display:null,setRef:void 0},a.a=l.a.memo(o)},685:function(e,a,t){"use strict";var n=t(683);t.d(a,"a",(function(){return n.a}))},687:function(e,a,t){"use strict";t.d(a,"c",(function(){return d})),t.d(a,"b",(function(){return u})),t.d(a,"d",(function(){return f}));var n,r=t(43),l=t(24),i=t.n(l),o=t(48),c=t(22),s=t(56),m=t.n(s),d=Object(c.b)("users/getUsers",function(){var e=Object(o.a)(i.a.mark((function e(a){var t,n,r,l,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.page,n=a.perPage,r=a.search,e.next=3,m.a.post("",{operationName:"adminGetAllUsers",variables:{page:t,perPage:n,search:r},query:"\n\t\t\tquery\n\t\t\t\tadminGetAllUsers($page: Int, $perPage: Int, $search: String) {\n\t\t\t\t\tadminGetAllUsers(page: $page, perPage: $perPage, filters: {search: $search}) {\n\t\t\t\t\t\tpaginatorInfo { currentPage perPage total }\n\t\t\t\t\t\tdata { id name last_name email avatar created_at company_name company_abn company_web_site }\n\t\t\t\t\t}\n\t\t\t\t}"});case 3:return l=e.sent,e.next=6,l.data;case 6:return o=e.sent,c=o.data.adminGetAllUsers,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),u=Object(c.b)("users/getUser",function(){var e=Object(o.a)(i.a.mark((function e(a){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("",{operationName:"adminGetUser",variables:{id:a},query:"query adminGetUser($id: Int!) {\n\t\t\t\tadminGetUser(id: $id) {\n\t\t\t\t\tid\n\t\t\t\t\tname\n\t\t\t\t\tlast_name\n\t\t\t\t\temail\n\t\t\t\t\tavatar\n\t\t\t\t\tcreated_at\n\t\t\t\t\tupdated_at\n\t\t\t\t\temail_verified_at\n\t\t\t\t\tskills { id name is_recommended }\n\t\t\t\t\ttrade { id title }\n\t\t\t\t\tposition_id \n\t\t\t\t\teducational_institution\n\t\t\t\t\tyear_of_experience\n\t\t\t\t\tlatitude\n\t\t\t\t\tlongitude\n\t\t\t\t\taddress\n\t\t\t\t\twork_radius\n\t\t\t\t\tcompany_name\n\t\t\t\t\tcompany_abn\n\t\t\t\t\tcompany_web_site\n\t\t\t\t\tprofile_filled\n\t\t\t\t\trole { id name }\n\t\t\t\t}\n\t\t\t}"});case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,r=n.data.adminGetUser,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),p=Object(c.d)({name:"users",initialState:{users:[],user:null,pagination:null},reducers:{setSearchText:function(e,a){e.search=a.payload}},extraReducers:(n={},Object(r.a)(n,d.fulfilled,(function(e,a){e.users=a.payload.data,e.pagination=a.payload.paginatorInfo})),Object(r.a)(n,u.fulfilled,(function(e,a){e.user=a.payload})),n)}),f=p.actions.setSearchText;a.a=p.reducer},689:function(e,a,t){"use strict";t.d(a,"a",(function(){return w}));var n=t(43),r=t(28),l=t(647),i=t(3),o=t(0),c=t.n(o),s=t(27),m=t(661),d=t(19),u=t(6);var p=function(e){var a=Object(s.a)(),t=Object(u.c)(Object(d.c)(a.palette.primary.main));return c.a.createElement("div",{className:e.classes.header},e.header&&c.a.createElement(m.a,{theme:t},e.header))},f=t(21),b=t(72),v=t(677),g=t(679);var h=function(e){var a=Object(s.a)(),t=Object(u.c)(Object(d.c)(a.palette.primary.main)),n=e.classes;return c.a.createElement(c.a.Fragment,null,e.header&&c.a.createElement(m.a,{theme:t},c.a.createElement("div",{className:Object(i.a)(n.sidebarHeader,e.variant)},e.header)),e.content&&c.a.createElement(r.a,{className:n.sidebarContent,enable:e.innerScroll},e.content))};var E=c.a.forwardRef((function(e,a){var t=Object(o.useState)(!1),n=Object(f.a)(t,2),r=n[0],l=n[1],s=e.classes;Object(o.useImperativeHandle)(a,(function(){return{toggleSidebar:m}}));var m=function(){l(!r)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{lgUp:"permanent"===e.variant},c.a.createElement(g.a,{variant:"temporary",anchor:e.position,open:r,onOpen:function(e){},onClose:function(e){return m()},disableSwipeToOpen:!0,classes:{root:Object(i.a)(s.sidebarWrapper,e.variant),paper:Object(i.a)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:s.backdrop}},style:{position:"absolute"}},c.a.createElement(h,e))),"permanent"===e.variant&&c.a.createElement(v.a,{mdDown:!0},c.a.createElement(b.a,{variant:"permanent",className:Object(i.a)(s.sidebarWrapper,e.variant),open:r,classes:{paper:Object(i.a)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)}},c.a.createElement(h,e))))})),x=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},topBg:{position:"absolute",left:0,right:0,top:0,height:200,background:"linear-gradient(to left, ".concat(e.palette.primary.dark," 0%, ").concat(e.palette.primary.main," 100%)"),backgroundSize:"cover",pointerEvents:"none"},contentWrapper:Object(n.a)({display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0},e.breakpoints.down("xs"),{padding:"0 1.6rem"}),header:{height:136,minHeight:136,maxHeight:136,display:"flex",color:e.palette.primary.contrastText},headerSidebarToggleButton:{color:e.palette.primary.contrastText},contentCard:{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:e.palette.background.paper,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",minHeight:0,borderRadius:"8px 8px 0 0"},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:"1 1 auto",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},sidebarWrapper:{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{zIndex:1,position:"relative"})},sidebar:{position:"absolute","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}),width:240,height:"100%"},leftSidebar:{},rightSidebar:{},sidebarHeader:{height:200,minHeight:200,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark,"&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent"})},sidebarContent:Object(n.a)({display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:e.palette.background.default,color:e.palette.text.primary},e.breakpoints.up("lg"),{overflow:"auto","-webkit-overflow-scrolling":"touch"}),backdrop:{position:"absolute"}}})),y=c.a.forwardRef((function(e,a){var t=Object(o.useRef)(null),n=Object(o.useRef)(null),l=Object(o.useRef)(null),s=x(e),m=e.rightSidebarHeader||e.rightSidebarContent,d=e.leftSidebarHeader||e.leftSidebarContent;return c.a.useImperativeHandle(a,(function(){return{rootRef:l,toggleLeftSidebar:function(){t.current.toggleSidebar()},toggleRightSidebar:function(){n.current.toggleSidebar()}}})),c.a.createElement("div",{className:Object(i.a)(s.root,e.innerScroll&&s.innerScroll),ref:l},c.a.createElement("div",{className:s.topBg}),c.a.createElement("div",{className:"flex container w-full"},d&&c.a.createElement(E,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:t,rootRef:l}),c.a.createElement("div",{className:Object(i.a)(s.contentWrapper,d&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",m&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0")},c.a.createElement(p,{header:e.header,classes:s}),c.a.createElement("div",{className:Object(i.a)(s.contentCard,e.innerScroll&&"inner-scroll")},e.contentToolbar&&c.a.createElement("div",{className:s.toolbar},e.contentToolbar),e.content&&c.a.createElement(r.a,{className:s.content,enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll},e.content))),m&&c.a.createElement(E,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:n,rootRef:l})))}));y.defaultProps={};var w=c.a.memo(y)},762:function(e,a,t){"use strict";var n=t(1),r=t(5),l=t(0),i=(t(4),t(3)),o=t(146),c=t(7),s=l.forwardRef((function(e,a){var t=e.classes,c=e.className,s=e.raised,m=void 0!==s&&s,d=Object(r.a)(e,["classes","className","raised"]);return l.createElement(o.a,Object(n.a)({className:Object(i.a)(t.root,c),elevation:m?8:1,ref:a},d))}));a.a=Object(c.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(s)},763:function(e,a,t){"use strict";var n=t(1),r=t(5),l=t(0),i=(t(4),t(3)),o=t(7),c=l.forwardRef((function(e,a){var t=e.classes,o=e.className,c=e.component,s=void 0===c?"div":c,m=Object(r.a)(e,["classes","className","component"]);return l.createElement(s,Object(n.a)({className:Object(i.a)(t.root,o),ref:a},m))}));a.a=Object(o.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(c)},775:function(e,a,t){"use strict";t.r(a);var n=t(9),r=t(21),l=t(685),i=t(249),o=t(689),c=t(97),s=t(10),m=t(660),d=t(649),u=t(647),p=t(27),f=t(678),b=t(147),v=t(248),g=t(657),h=t(656),E=t(658),x=t(3),y=t(0),w=t.n(y),N=t(6),j=t(26),O=t(41),_=t(687),S=t(762),C=t(763),k=t(681),W=t(676),I=t(682),R=Object(u.a)((function(e){return{userImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},row:{display:"flex",gap:"1rem"},col:{display:"flex",flexDirection:"column"},formControl:{margin:e.spacing(3)},large:{width:"200px",height:"200px",cursor:"pointer",margin:"0 auto"},name:{fontSize:"20px",fontWeight:500,textOverflow:"ellipsis",overflow:"hidden",maxWidth:"300px",whiteSpace:"nowrap"}}}));a.default=Object(v.a)("users",_.a)((function(e){var a=Object(N.b)(),t=Object(N.c)((function(e){return e.users})).user,u=Object(p.a)(),v=R(e),H=Object(y.useState)(!1),P=Object(r.a)(H,2),U=P[0],T=P[1],B=Object(c.c)(null),q=B.form,G=B.handleChange,A=B.setForm,$=Object(j.h)();return Object(c.b)((function(){!function(){var e=Number($.userId);e&&a(Object(_.b)(e)).then((function(e){e.payload||T(!0)}))}()}),[a,$]),Object(y.useEffect)((function(){(t&&!q||t&&q&&t.id!==q.id)&&A(t)}),[q,t,A]),U?w.a.createElement(l.a,{delay:100},w.a.createElement("div",{className:"flex flex-col flex-1 items-center justify-center h-full"},w.a.createElement(b.a,{color:"textSecondary",variant:"h5"},"There is no such user!"),w.a.createElement(m.a,{className:"normal-case mt-24",component:O.a,variant:"outlined",to:"/users",color:"inherit"},"Go to Users Page"))):!t||t&&$.userId!==t.id?w.a.createElement(i.a,null):w.a.createElement(o.a,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:q&&w.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},w.a.createElement("div",{className:"flex flex-col items-start max-w-full"},w.a.createElement(l.a,{animation:"transition.slideRightIn",delay:300},w.a.createElement(b.a,{className:"normal-case flex items-center sm:mb-12",component:O.a,role:"button",to:"/users",color:"inherit"},w.a.createElement(d.a,{className:"text-20"},"ltr"===u.direction?"arrow_back":"arrow_forward"),w.a.createElement("span",{className:"mx-4"},"Users"))),w.a.createElement("div",{className:"flex items-center max-w-full"},w.a.createElement("div",{className:"flex flex-col min-w-0 mx-8 sm:mc-16"},w.a.createElement(l.a,{animation:"transition.slideLeftIn",delay:300},w.a.createElement(b.a,{variant:"caption"},"User profile"))))),w.a.createElement(l.a,{animation:"transition.slideRightIn",delay:300},w.a.createElement(m.a,{className:"whitespace-nowrap normal-case",variant:"contained",color:"secondary",disabled:!(q.name.length>0&&!s.a.isEqual(t,q)),onClick:function(){return console.log(q)}},"Save"))),content:q&&w.a.createElement("div",{className:"p-12 flex flex-nowrap"},w.a.createElement("div",{className:"flex flex-col sm:w-2/3"},w.a.createElement("div",{className:"w-full p-12"},w.a.createElement(S.a,{className:"rounded-8"},w.a.createElement("div",{className:Object(x.a)(v.cardHeader,"px-24 py-16")},w.a.createElement(b.a,{variant:"subtitle1",color:"inherit"},"Profile information")),w.a.createElement(C.a,{className:"p-32 flex flex-col"},w.a.createElement("div",{className:v.row},w.a.createElement(f.a,{className:"mt-8 mb-16",required:!0,label:"First Name",id:"name",name:"name",value:q.name,onChange:G,variant:"outlined",fullWidth:!0}),w.a.createElement(f.a,{className:"mt-8 mb-16",label:"Last Name",id:"last_name",name:"last_name",value:q.last_name,onChange:G,variant:"outlined",fullWidth:!0})),w.a.createElement("div",{className:"flex flex-no-wrap justify-between align-items-center w-full"},w.a.createElement(h.a,{component:"fieldset"},w.a.createElement(g.a,{component:"legend"},"Position"),w.a.createElement(k.a,{"aria-label":"position_id",name:"position_id",value:q.position_id,onChange:G},w.a.createElement(E.a,{value:0,control:w.a.createElement(W.a,null),label:"Apprentice"}),w.a.createElement(E.a,{value:1,control:w.a.createElement(W.a,null),label:"Employee"}),w.a.createElement(E.a,{value:2,control:w.a.createElement(W.a,null),label:"Business owner"}))),w.a.createElement("div",{className:"sm:w-2/3"},!q.position_id&&w.a.createElement(f.a,{className:"mt-8 mb-16",label:"Educational Institution",id:"educational_institution",name:"educational_institution",value:q.educational_institution,onChange:G,variant:"outlined",fullWidth:!0}))),w.a.createElement("div",{className:v.row},w.a.createElement(f.a,{className:"mt-8 mb-16",required:!0,label:"Email",id:"email",name:"email",value:q.email,onChange:G,variant:"outlined",fullWidth:!0}),w.a.createElement(f.a,{className:"mt-8 mb-16",label:"Address",id:"address",name:"address",value:q.address,onChange:G,variant:"outlined",fullWidth:!0})),w.a.createElement("div",{className:v.row},w.a.createElement(f.a,{className:"mt-8 mb-16",required:!0,label:"Work Radius",id:"work_radius",name:"work_radius",value:q.work_radius,onChange:G,variant:"outlined",fullWidth:!0}),w.a.createElement(f.a,{className:"mt-8 mb-16",label:"Year of experience",id:"year_of_experience",name:"year_of_experience",value:q.year_of_experience,onChange:G,variant:"outlined",type:"number",fullWidth:!0}),w.a.createElement(f.a,{className:"mt-8 mb-16",label:"Trades",id:"trade",name:"trade",value:q.trade&&q.trade.title,onChange:G,variant:"outlined",type:"number",disabled:!0,fullWidth:!0}))))),w.a.createElement("div",{className:"w-full p-12"},w.a.createElement(S.a,{className:"rounded-8"},w.a.createElement("div",{className:Object(x.a)(v.cardHeader,"px-24 py-16")},w.a.createElement(b.a,{variant:"subtitle1",color:"inherit"},"Company information")),w.a.createElement(C.a,{className:"p-32 flex flex-col"},w.a.createElement("div",{className:v.row},w.a.createElement(f.a,{className:"mt-8 mb-16",required:!0,label:"Company name",id:"company_name",name:"company_name",value:q.company_name,onChange:G,variant:"outlined",fullWidth:!0}),w.a.createElement(f.a,{className:"mt-8 mb-16",label:"Company ABN",id:"company_abn",name:"company_abn",value:q.company_abn,onChange:G,variant:"outlined",fullWidth:!0})),w.a.createElement("div",{className:"flex justify-center"},w.a.createElement(f.a,{className:"mt-8 mb-16",required:!0,label:"Company Web site",id:"company_web_site",name:"company_web_site",value:q.company_web_site,onChange:G,variant:"outlined",fullWidth:!0})))))),w.a.createElement("div",{className:"flex flex-col sm:w-1/3"},w.a.createElement("div",{className:"w-full p-12"},w.a.createElement(S.a,{className:"rounded-8"},w.a.createElement("div",{className:Object(x.a)(v.cardHeader,"px-24 py-16")},w.a.createElement(b.a,{variant:"subtitle1",color:"inherit"},"Main information")),w.a.createElement(C.a,{className:"p-32 pt-16 flex flex-col align-item-center justify-center"},w.a.createElement(I.a,{alt:"avatar",src:q.avatar,className:v.large,onClick:function(){document.getElementById("button-file").click()}}),w.a.createElement("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:function(e){var a=e.target.files[0];if(a){var t=new FileReader;t.readAsBinaryString(a),t.onload=function(){A(s.a.set(Object(n.a)({},q),"avatar","data:".concat(a.type,";base64,").concat(btoa(t.result))))},t.onerror=function(){console.log("error on load image")}}}}),w.a.createElement("div",{className:"flex gap-10 flex-wrap justify-center"},w.a.createElement("span",{className:v.name},t.name),w.a.createElement("span",{className:v.name},t.last_name))))),w.a.createElement("div",{className:"w-full p-12"},w.a.createElement(S.a,{className:"rounded-8"},w.a.createElement("div",{className:Object(x.a)(v.cardHeader,"px-24 py-16")},w.a.createElement(b.a,{variant:"subtitle1",color:"inherit"},"Change password")),w.a.createElement(C.a,{className:"p-32 pt-16 flex flex-col align-item-center justify-center"},w.a.createElement(f.a,{className:"mt-8 mb-16",label:"New password",id:"password",name:"password",value:q.password,onChange:G,variant:"outlined",fullWidth:!0})))))),innerScroll:!0})}))}}]);