(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[4],{683:function(e,t,a){"use strict";var n=a(9),r=a(0),i=a.n(r),o=a(691),l=(a(693),i.a.forwardRef((function(e,t){var a=i.a.cloneElement(e.children,{style:Object(n.a)(Object(n.a)({},e.children.style),{},{visibility:"hidden"})});return i.a.createElement(o.VelocityComponent,Object.assign({ref:t},e),a)})));l.defaultProps={animation:"transition.fadeIn",runOnMount:!0,targetQuerySelector:null,interruptBehavior:"stop",visibility:"visible",duration:300,delay:50,easing:[.4,0,.2,1],display:null,setRef:void 0},t.a=i.a.memo(l)},684:function(e,t,a){"use strict";var n=a(0),r=n.createContext();t.a=r},685:function(e,t,a){"use strict";var n=a(683);a.d(t,"a",(function(){return n.a}))},688:function(e,t,a){"use strict";var n=a(0),r=n.createContext();t.a=r},689:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(43),r=a(28),i=a(647),o=a(3),l=a(0),c=a.n(l),s=a(27),d=a(661),p=a(19),u=a(6);var m=function(e){var t=Object(s.a)(),a=Object(u.c)(Object(p.c)(t.palette.primary.main));return c.a.createElement("div",{className:e.classes.header},e.header&&c.a.createElement(d.a,{theme:a},e.header))},b=a(21),f=a(72),g=a(677),h=a(679);var v=function(e){var t=Object(s.a)(),a=Object(u.c)(Object(p.c)(t.palette.primary.main)),n=e.classes;return c.a.createElement(c.a.Fragment,null,e.header&&c.a.createElement(d.a,{theme:a},c.a.createElement("div",{className:Object(o.a)(n.sidebarHeader,e.variant)},e.header)),e.content&&c.a.createElement(r.a,{className:n.sidebarContent,enable:e.innerScroll},e.content))};var O=c.a.forwardRef((function(e,t){var a=Object(l.useState)(!1),n=Object(b.a)(a,2),r=n[0],i=n[1],s=e.classes;Object(l.useImperativeHandle)(t,(function(){return{toggleSidebar:d}}));var d=function(){i(!r)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,{lgUp:"permanent"===e.variant},c.a.createElement(h.a,{variant:"temporary",anchor:e.position,open:r,onOpen:function(e){},onClose:function(e){return d()},disableSwipeToOpen:!0,classes:{root:Object(o.a)(s.sidebarWrapper,e.variant),paper:Object(o.a)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:s.backdrop}},style:{position:"absolute"}},c.a.createElement(v,e))),"permanent"===e.variant&&c.a.createElement(g.a,{mdDown:!0},c.a.createElement(f.a,{variant:"permanent",className:Object(o.a)(s.sidebarWrapper,e.variant),open:r,classes:{paper:Object(o.a)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)}},c.a.createElement(v,e))))})),x=Object(i.a)((function(e){return{root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},topBg:{position:"absolute",left:0,right:0,top:0,height:200,background:"linear-gradient(to left, ".concat(e.palette.primary.dark," 0%, ").concat(e.palette.primary.main," 100%)"),backgroundSize:"cover",pointerEvents:"none"},contentWrapper:Object(n.a)({display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0},e.breakpoints.down("xs"),{padding:"0 1.6rem"}),header:{height:136,minHeight:136,maxHeight:136,display:"flex",color:e.palette.primary.contrastText},headerSidebarToggleButton:{color:e.palette.primary.contrastText},contentCard:{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:e.palette.background.paper,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",minHeight:0,borderRadius:"8px 8px 0 0"},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:"1 1 auto",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},sidebarWrapper:{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{zIndex:1,position:"relative"})},sidebar:{position:"absolute","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}),width:240,height:"100%"},leftSidebar:{},rightSidebar:{},sidebarHeader:{height:200,minHeight:200,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark,"&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent"})},sidebarContent:Object(n.a)({display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:e.palette.background.default,color:e.palette.text.primary},e.breakpoints.up("lg"),{overflow:"auto","-webkit-overflow-scrolling":"touch"}),backdrop:{position:"absolute"}}})),y=c.a.forwardRef((function(e,t){var a=Object(l.useRef)(null),n=Object(l.useRef)(null),i=Object(l.useRef)(null),s=x(e),d=e.rightSidebarHeader||e.rightSidebarContent,p=e.leftSidebarHeader||e.leftSidebarContent;return c.a.useImperativeHandle(t,(function(){return{rootRef:i,toggleLeftSidebar:function(){a.current.toggleSidebar()},toggleRightSidebar:function(){n.current.toggleSidebar()}}})),c.a.createElement("div",{className:Object(o.a)(s.root,e.innerScroll&&s.innerScroll),ref:i},c.a.createElement("div",{className:s.topBg}),c.a.createElement("div",{className:"flex container w-full"},p&&c.a.createElement(O,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:a,rootRef:i}),c.a.createElement("div",{className:Object(o.a)(s.contentWrapper,p&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",d&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0")},c.a.createElement(m,{header:e.header,classes:s}),c.a.createElement("div",{className:Object(o.a)(s.contentCard,e.innerScroll&&"inner-scroll")},e.contentToolbar&&c.a.createElement("div",{className:s.toolbar},e.contentToolbar),e.content&&c.a.createElement(r.a,{className:s.content,enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll},e.content))),d&&c.a.createElement(O,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:n,rootRef:i})))}));y.defaultProps={};var j=c.a.memo(y)},764:function(e,t,a){"use strict";var n=a(1),r=a(5),i=a(0),o=(a(4),a(3)),l=a(7),c=a(684),s={variant:"head"},d=i.forwardRef((function(e,t){var a=e.classes,l=e.className,d=e.component,p=void 0===d?"thead":d,u=Object(r.a)(e,["classes","className","component"]);return i.createElement(c.a.Provider,{value:s},i.createElement(p,Object(n.a)({className:Object(o.a)(a.root,l),ref:t,role:"thead"===p?null:"rowgroup"},u)))}));t.a=Object(l.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(d)},765:function(e,t,a){"use strict";var n=a(1),r=a(5),i=a(0),o=(a(4),a(3)),l=a(7),c=a(684),s=a(20),d=i.forwardRef((function(e,t){var a=e.classes,l=e.className,s=e.component,d=void 0===s?"tr":s,p=e.hover,u=void 0!==p&&p,m=e.selected,b=void 0!==m&&m,f=Object(r.a)(e,["classes","className","component","hover","selected"]),g=i.useContext(c.a);return i.createElement(d,Object(n.a)({ref:t,className:Object(o.a)(a.root,l,g&&{head:a.head,footer:a.footer}[g.variant],u&&a.hover,b&&a.selected),role:"tr"===d?null:"row"},f))}));t.a=Object(l.a)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(s.c)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(d)},766:function(e,t,a){"use strict";var n=a(5),r=a(1),i=a(0),o=(a(4),a(3)),l=a(7),c=a(8),s=a(20),d=a(688),p=a(684),u=i.forwardRef((function(e,t){var a,l,s=e.align,u=void 0===s?"inherit":s,m=e.classes,b=e.className,f=e.component,g=e.padding,h=e.scope,v=e.size,O=e.sortDirection,x=e.variant,y=Object(n.a)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),j=i.useContext(d.a),E=i.useContext(p.a),w=E&&"head"===E.variant;f?(l=f,a=w?"columnheader":"cell"):l=w?"th":"td";var S=h;!S&&w&&(S="col");var k=g||(j&&j.padding?j.padding:"default"),N=v||(j&&j.size?j.size:"medium"),C=x||E&&E.variant,T=null;return O&&(T="asc"===O?"ascending":"descending"),i.createElement(l,Object(r.a)({ref:t,className:Object(o.a)(m.root,m[C],b,"inherit"!==u&&m["align".concat(Object(c.a)(u))],"default"!==k&&m["padding".concat(Object(c.a)(k))],"medium"!==N&&m["size".concat(Object(c.a)(N))],"head"===C&&j&&j.stickyHeader&&m.stickyHeader),"aria-sort":T,role:a,scope:S},y))}));t.a=Object(l.a)((function(e){return{root:Object(r.a)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(s.e)(Object(s.c)(e.palette.divider,1),.88):Object(s.a)(Object(s.c)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(u)},767:function(e,t,a){"use strict";var n=a(5),r=a(1),i=a(0),o=(a(4),a(3)),l=a(7),c=a(688),s=i.forwardRef((function(e,t){var a=e.classes,l=e.className,s=e.component,d=void 0===s?"table":s,p=e.padding,u=void 0===p?"default":p,m=e.size,b=void 0===m?"medium":m,f=e.stickyHeader,g=void 0!==f&&f,h=Object(n.a)(e,["classes","className","component","padding","size","stickyHeader"]),v=i.useMemo((function(){return{padding:u,size:b,stickyHeader:g}}),[u,b,g]);return i.createElement(c.a.Provider,{value:v},i.createElement(d,Object(r.a)({role:"table"===d?null:"table",ref:t,className:Object(o.a)(a.root,l,g&&a.stickyHeader)},h)))}));t.a=Object(l.a)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(r.a)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(s)},768:function(e,t,a){"use strict";var n=a(1),r=a(5),i=a(0),o=(a(4),a(3)),l=a(7),c=a(684),s={variant:"body"},d=i.forwardRef((function(e,t){var a=e.classes,l=e.className,d=e.component,p=void 0===d?"tbody":d,u=Object(r.a)(e,["classes","className","component"]);return i.createElement(c.a.Provider,{value:s},i.createElement(p,Object(n.a)({className:Object(o.a)(a.root,l),ref:t,role:"tbody"===p?null:"rowgroup"},u)))}));t.a=Object(l.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(d)},776:function(e,t,a){"use strict";a.r(t);var n,r=a(689),i=a(248),o=a(0),l=a.n(o),c=a(9),s=a(97),d=a(662),p=a(660),u=a(644),m=a(1),b=a(5),f=(a(4),a(3)),g=a(7),h=o.forwardRef((function(e,t){var a=e.disableSpacing,n=void 0!==a&&a,r=e.classes,i=e.className,l=Object(b.a)(e,["disableSpacing","classes","className"]);return o.createElement("div",Object(m.a)({className:Object(f.a)(r.root,i,!n&&r.spacing),ref:t},l))})),v=Object(g.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(h),O=o.forwardRef((function(e,t){var a=e.classes,n=e.className,r=e.dividers,i=void 0!==r&&r,l=Object(b.a)(e,["classes","className","dividers"]);return o.createElement("div",Object(m.a)({className:Object(f.a)(a.root,n,i&&a.dividers),ref:t},l))})),x=Object(g.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(O),y=a(649),j=a(606),E=a(678),w=a(663),S=a(147),k=a(6),N=a(43),C=a(24),T=a.n(C),R=a(48),H=a(22),A=a(56),D=a.n(A),z=Object(H.b)("trades/getTrades",Object(R.a)(T.a.mark((function e(){var t,a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.post("",{operationName:"adminGetAllTrades",variables:{},query:"\n\t\t\tquery\n\t\t\t\tadminGetAllTrades {\n\t\t\t\t\tadminGetAllTrades{\n\t\t\t\t\t\tid\n\t\t\t\t\t\ttitle\n\t\t\t\t\t}\n\t\t\t\t}"});case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,n=a.data.adminGetAllTrades,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))),I=Object(H.b)("trades/addTrade",function(){var e=Object(R.a)(T.a.mark((function e(t){var a,n,r,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.title,e.next=3,D.a.post("",{operationName:"adminAddTrade",query:"\n\t\t\tmutation adminAddTrade($title: String!) {\n  \t\t\tadminAddTrade(input: {title: $title}) { id title }\n\t\t}",variables:{title:a}});case 3:return n=e.sent,e.next=6,n.data;case 6:return r=e.sent,i=r.data.adminAddTrade,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),W=Object(H.b)("trades/editTrade",Object(R.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),M=Object(H.b)("trades/removeTrade",Object(R.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),P=Object(H.d)({name:"trades",initialState:{trades:[],modal:{isOpen:!1,type:null,trade:null},search:""},reducers:{openDialog:function(e,t){e.modal={isOpen:!0,type:t.payload.type,trade:t.payload.trade}},closeDialog:function(e){e.modal={isOpen:!1}},setSearchText:function(e,t){e.search=t.payload}},extraReducers:(n={},Object(N.a)(n,z.fulfilled,(function(e,t){e.trades=t.payload})),Object(N.a)(n,I.fulfilled,(function(e,t){e.trades.push(t.payload)})),n)}),B=P.actions,V=B.openDialog,L=B.closeDialog,$=B.setSearchText,F=P.reducer,q={title:""};var G=function(e){var t=Object(k.b)(),a=Object(k.c)((function(e){return e.trades})).modal,n=Object(s.c)(q),r=n.form,i=n.handleChange,m=n.setForm,b=Object(o.useCallback)((function(){"edit"===a.type&&a.trade&&m({title:a.trade.title}),"new"===a.type&&m(Object(c.a)({},q))}),[a.type,a.trade,m]);function f(){return t(L())}function g(){return r.title.length>0}return Object(o.useEffect)((function(){a.isOpen&&b()}),[a.isOpen,b]),l.a.createElement(u.a,{open:a.isOpen,onClose:f,fullWidth:!0,maxWidth:"xs",component:"form",classes:{paper:"rounded-8"}},l.a.createElement(d.a,{position:"static"},l.a.createElement(w.a,{className:"flex w-full"},l.a.createElement(S.a,{variant:"subtitle1",color:"inherit"},"new"===a.type?"New Trade":"Edit Trade"))),l.a.createElement("form",{noValidate:!0,onSubmit:function(e){switch(e.preventDefault(),a.type){case"new":t(I(r));break;case"edit":t(W(r))}f()}},l.a.createElement(x,{classes:{root:"p-16 pb-0 sm:p-24 sm:pb-0"}},l.a.createElement(E.a,{id:"title",label:"Title",className:"mt-8 mb-16",InputLabelProps:{shrink:!0},name:"title",value:r.title,onChange:i,variant:"outlined",autoFocus:!0,required:!0,fullWidth:!0})),"new"===a.type?l.a.createElement(v,{className:"justify-between px-8 sm:px-16"},l.a.createElement(p.a,{variant:"contained",color:"primary",type:"submit",disabled:!g()},"Add")):l.a.createElement(v,{className:"justify-between px-8 sm:px-16"},l.a.createElement(p.a,{variant:"contained",color:"primary",type:"submit",disabled:!g()},"Save"),l.a.createElement(j.a,{onClick:function(e){t(M(r)),f()}},l.a.createElement(y.a,null,"delete")))))},J=a(21),Q=a(685),U=a(19);var Y=function(e){var t=Object(k.b)(),a=(Object(k.c)(U.e),Object(o.useState)("")),n=Object(J.a)(a,2),r=n[0];return n[1],Object(o.useEffect)((function(){t($(r))}),[t,r]),l.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},l.a.createElement("div",{className:"flex items-center"},l.a.createElement(Q.a,{animation:"transition.expandIn",delay:300},l.a.createElement(y.a,{className:"text-32"},"local_offer")),l.a.createElement(Q.a,{animation:"transition.slideLeftIn",delay:300},l.a.createElement(S.a,{className:"hidden sm:flex mx-0 sm:mx-12",variant:"h6"},"Trades"))),!1,l.a.createElement(Q.a,{animation:"transition.slideRightIn",delay:300},l.a.createElement(p.a,{className:"whitespace-nowrap normal-case",variant:"contained",color:"secondary",onClick:function(){t(V({type:"new",trade:null}))}},"Add trade")))},_=a(28),K=a(767),X=a(768),Z=a(766),ee=a(765),te=a(26),ae=a(249),ne=a(683),re=a(764),ie=[{id:"id",align:"left",disablePadding:!0,label:"ID",sort:!1},{id:"name",align:"left",disablePadding:!1,label:"Name",sort:!1}];var oe=function(e){return l.a.createElement(re.a,null,l.a.createElement(ee.a,{className:"h-64"},ie.map((function(e){return l.a.createElement(Z.a,{className:"p-4 md:p-16",key:e.id,align:e.align,padding:e.disablePadding?"none":"default"},e.label)}))))};var le=Object(te.i)((function(e){var t=Object(k.b)(),a=Object(k.c)((function(e){return e.trades})).trades,n=Object(o.useState)(!0),r=Object(J.a)(n,2),i=r[0],c=r[1],s=Object(o.useState)(a),d=Object(J.a)(s,2),p=d[0],u=d[1],m=Object(o.useCallback)((function(){c(!0),t(z()).then((function(){return c(!1)}))}),[t]);function b(e){return function(){return t(V({type:"edit",trade:e}))}}return Object(o.useEffect)((function(){m()}),[t,m]),Object(o.useEffect)((function(){u(a)}),[t,a]),i?l.a.createElement(ae.a,null):0===p.length?l.a.createElement(ne.a,{delay:100},l.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},l.a.createElement(S.a,{color:"textSecondary",variant:"h5"},"There are no trades!"))):l.a.createElement("div",{className:"w-full flex flex-col"},l.a.createElement(_.a,{className:"flex-grow overflow-x-auto"},l.a.createElement(K.a,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle"},l.a.createElement(oe,{rowCount:p.length}),l.a.createElement(X.a,null,p.map((function(e){return l.a.createElement(ee.a,{className:"h-64 cursor-pointer",hover:!0,tabIndex:-1,key:e.id,onClick:b(e)},l.a.createElement(Z.a,{className:"p-4 md:p-16",component:"th",scope:"row"},e.id),l.a.createElement(Z.a,{className:"p-4 md:p-16",component:"th",scope:"row"},e.title))}))))))}));t.default=Object(i.a)("trades",F)((function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,{classes:{content:"flex",contentCard:"overflow-hidden",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:l.a.createElement(Y,null),content:l.a.createElement(le,null),innerScroll:!0}),l.a.createElement(G,null))}))}}]);